<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Imarika ‚Äî Invest with Confidence</title>
  <meta name="description" content="Imarika Investments: secure, transparent investment plans and working-capital loans with human support. Payments via M-Pesa or Bank." />
  <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
  <link rel="apple-touch-icon" href="/favicon.png" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#ffffff; --text:#0f172a; --muted:#475569; --line:#e5e7eb; --card:#ffffff;
      --brand:#f59e0b; --ok:#16a34a; --danger:#ef4444; --ring:rgba(245,158,11,.35);
    }
    *{box-sizing:border-box} html,body{margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    body{overflow-x:hidden;padding-bottom:84px}
    a{text-decoration:none;color:inherit}
    .container{max-width:1120px;margin:0 auto;padding:0 1rem}
    @media(max-width:600px){.container{padding:0 .9rem}}
    .btn{display:inline-flex;align-items:center;justify-content:center;padding:.85rem 1.1rem;border-radius:14px;font-weight:700;background:var(--brand);color:#111827;border:0;cursor:pointer;box-shadow:0 10px 30px rgba(245,158,11,.25);transition:.2s}
    .btn:hover{transform:translateY(-1px);background:#fbbf24}
    .btn-outline{background:#fff;border:1px solid var(--line);color:var(--text)}
    .btn-wa{background:#25D366;color:#fff;box-shadow:0 12px 30px rgba(16,185,129,.35)}
    .btn-full{width:100%}
    header{position:sticky;top:0;background:rgba(255,255,255,.9);backdrop-filter:blur(8px);border-bottom:1px solid var(--line);z-index:40}
    .brand{display:flex;align-items:center;gap:.55rem}
    .logo{height:32px;width:32px;border-radius:10px}
    .badge{padding:.18rem .6rem;border-radius:999px;background:#fef3c7;color:#78350f;font-weight:700;font-size:.75rem}
    section{padding:3.2rem 0} @media(max-width:600px){section{padding:2.2rem 0}}
    h1{font-size:clamp(1.8rem,5vw,3rem);line-height:1.1;margin:.2rem 0 1rem}
    h2{font-size:clamp(1.45rem,4vw,2.2rem);margin:0 0 1rem}
    .muted{color:var(--muted)}
    .grid{display:grid;gap:1rem}
    .grid-2{grid-template-columns:1fr} .grid-3{grid-template-columns:1fr}
    @media(min-width:768px){.grid-2{grid-template-columns:repeat(2,1fr)}.grid-3{grid-template-columns:repeat(3,1fr)}}
    .card{background:var(--card);border:1px solid var(--line);border-radius:18px;padding:1.15rem;box-shadow:0 10px 30px rgba(2,8,23,.06)}
    input,select,textarea{width:100%;padding:.85rem;border:1px solid var(--line);border-radius:14px;outline:none}
    input:focus,select:focus,textarea:focus{border-color:#cbd5e1;box-shadow:0 0 0 4px var(--ring)}
    .hero{padding:5.2rem 0 2.2rem;background:radial-gradient(1100px 500px at 75% -10%, #fff7ed 0%, transparent 60%)}
    .btnrow{display:flex;gap:.7rem;flex-wrap:wrap}
    .wa-float{position:fixed;right:16px;bottom:96px;z-index:50}
    .wa-btn{height:58px;width:58px;border-radius:999px;display:flex;align-items:center;justify-content:center;background:#25D366;color:#fff}
    table{border-collapse:collapse;width:100%} th,td{border:1px solid var(--line);padding:.7rem} th{background:#fef3c7}
    .modal{position:fixed;inset:0;background:rgba(2,8,23,.45);display:none;align-items:center;justify-content:center;z-index:80;padding:1rem}
    .modal.active{display:flex} .sheet{width:100%;max-width:520px;background:#fff;border:1px solid var(--line);border-radius:16px;padding:1rem}
    .row{display:grid;gap:.6rem}
    .dash-grid{display:grid;gap:1rem} @media(min-width:768px){.dash-grid{grid-template-columns:2fr 1fr}}
    .kpi{display:flex;align-items:center;justify-content:space-between}
    .mono{font-family:ui-monospace,Menlo,Consolas,monospace}
    .copyrow{display:grid;grid-template-columns:1fr auto;gap:.5rem;align-items:center}
    .tag{display:inline-flex;align-items:center;gap:.35rem;background:#f1f5f9;border:1px solid #e2e8f0;border-radius:999px;padding:.25rem .6rem;font-weight:700}
  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <div class="container" style="display:flex;align-items:center;justify-content:space-between;height:64px;gap:.6rem">
      <a href="/" class="brand">
        <img src="/favicon.svg" class="logo" alt="Imarika">
        <strong>Imarika</strong>
        <span class="badge">Secure & Transparent</span>
      </a>
      <div style="display:flex;align-items:center;gap:.6rem">
        <button class="btn btn-outline" id="loginBtn">Login</button>
        <button class="btn" id="signupBtn">Get Started</button>
      </div>
    </div>
  </header>

  <!-- Hero (Home) -->
  <section id="home" class="hero">
    <div class="container">
      <h1>Welcome to <span style="background:linear-gradient(90deg,#fde68a,#f59e0b);-webkit-background-clip:text;background-clip:text;color:transparent">Imarika</span></h1>
      <p class="muted">Secure and transparent investment opportunities with guaranteed growth and working-capital loans. Human support on WhatsApp and email.</p>
      <div class="btnrow" style="margin-top:1rem">
        <button class="btn" id="ctaSignup">Get Started</button>
        <button class="btn btn-outline" id="ctaLogin">Login</button>
        <a class="btn btn-wa" href="https://wa.me/254701017246?text=Hi%20Imarika!%20I%27d%20like%20to%20get%20started." style="color:#fff">
          <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor" style="margin-right:.45rem"><path d="M20.52 3.48A11.94..."/></svg>
          Chat on WhatsApp
        </a>
      </div>
    </div>
  </section>

  <!-- Quick Facts -->
  <section style="padding-top:0">
    <div class="container">
      <div class="card" style="background:#f8fafc">
        <h3 style="margin:.2rem 0 0">Quick Facts</h3>
        <ul class="muted">
          <li>Returns post within <strong>24 hours</strong> for all plans.</li>
          <li>Payments in & out via <img src="/mpesa.png" alt="M-Pesa" style="height:50px;width:auto;vertical-align:middle"> or <strong>Bank Transfer</strong>.</li>
          <li>Loan eligibility up to <strong>3√ó your invested amount</strong>.</li>
          <li>WhatsApp support: <strong>+254 701 017 246</strong>.</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Plans + Loans + Compare + Why + About + Testimonials + FAQ  -->
  <!-- (Keep your previous marketing sections here unchanged if you had them) -->

  <!-- DASHBOARD -->
  <section id="dashboard" style="display:none;background:#fafafa">
    <div class="container">
      <h2>Dashboard</h2>
      <div class="tag mono" id="acctTag">Acct: ‚Äî</div>

      <div class="dash-grid" style="margin-top:1rem">
        <div class="grid">
          <!-- Wallet -->
          <div class="card">
            <div class="kpi">
              <div><strong>Wallet Balance</strong><div class="muted">Available to invest/withdraw</div></div>
              <div style="text-align:right">
                <div style="font-size:1.6rem;font-weight:800" id="walletBal">KES 0</div>
                <div class="muted mono" id="walletUpdated">Updated just now</div>
              </div>
            </div>
            <div style="margin-top:1rem;display:flex;gap:.6rem;flex-wrap:wrap">
              <button class="btn" id="depositBtn">Deposit</button>
              <button class="btn btn-outline" id="withdrawOpen">Withdraw</button>
            </div>
          </div>

          <!-- Investments -->
          <div class="card">
            <div class="kpi">
              <div><strong>Investments (Shares)</strong><div class="muted">Active amount in plans</div></div>
              <div style="text-align:right"><div style="font-size:1.4rem;font-weight:800" id="invBal">KES 0</div></div>
            </div>
            <div class="helper" style="margin-top:.6rem">Plan breakdowns coming soon.</div>
          </div>

          <!-- Withdraw inline -->
          <div class="card" id="withdrawCard" style="display:none">
            <strong>Withdraw to M-Pesa</strong>
            <div class="row" style="margin-top:.6rem">
              <input id="wPhone" placeholder="M-Pesa number (07/01‚Ä¶ 10 digits)" inputmode="tel">
              <input id="wAmt" type="number" placeholder="Amount (KES)">
              <button class="btn" id="withdrawBtn">Request Withdraw</button>
              <div class="muted" id="wHint"></div>
            </div>
          </div>
        </div>

        <!-- Quick Calculator -->
        <div class="card">
          <strong>Quick Calculator</strong>
          <div class="muted">Preview 24h payout & start</div>
          <div class="row" style="margin-top:.6rem">
            <select id="miniPlan"><option value="std">Standard (30%)</option><option value="gold">Gold (50%)</option><option value="plat">Platinum (70%)</option></select>
            <input id="miniAmt" type="number" min="1000" placeholder="Enter amount">
            <button class="btn" id="miniCalcBtn">Calculate</button>
            <div class="muted" id="miniOut"></div>
            <button class="btn btn-full" id="miniStartBtn">Start & Deposit</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CONTACT -->
  <section id="contact">
    <div class="container">
      <h2>Get in Touch</h2>
      <div class="grid grid-2" style="margin-top:1rem">
        <div class="card">
          <ul style="list-style:none;padding:0;margin:0;display:grid;gap:.5rem">
            <li>‚úâÔ∏è <a class="muted" href="mailto:sales@imarika.net">sales@imarika.net</a></li>
            <li>üìû +254 701 017 246</li>
            <li style="display:flex;align-items:center;gap:.5rem">
              <img src="/mpesa.png" alt="" style="height:18px;width:auto"><a class="muted" href="https://wa.me/254701017246" target="_blank">Chat on WhatsApp</a>
            </li>
            <li>üåê <a class="muted" href="https://imarika.net" target="_blank">imarika.net</a></li>
          </ul>
        </div>
        <form class="card" onsubmit="return sendEmailViaMailto()">
          <input id="cName" placeholder="Your Name" required>
          <input id="cContact" placeholder="Email or Phone" required>
          <textarea id="cMsg" placeholder="Message" rows="5" required></textarea>
          <button type="submit" class="btn btn-full">Send</button>
          <p class="muted">This opens your email app to send to <strong>sales@imarika.net</strong>.</p>
        </form>
      </div>
    </div>
  </section>

  <footer>
    <div class="container" style="display:flex;align-items:center;justify-content:space-between;gap:1rem;flex-wrap:wrap">
      <div style="display:flex;align-items:center;gap:.6rem">
        <img src="/favicon.svg" class="logo" alt="">
        <span>¬© <span id="y"></span> Imarika ‚Äî <a class="muted" href="/">imarika.net</a></span>
      </div>
      <div style="display:flex;align-items:center;gap:.6rem;flex-wrap:wrap">
        <span class="muted">Payments Accepted:&nbsp;</span>
        <img src="/mpesa.png" alt="M-Pesa" style="height:60px;width:auto;vertical-align:middle">
        <span class="muted">¬∑</span>
        <svg width="22" height="22" viewBox="0 0 24 24" aria-hidden="true"><path fill="#334155" d="M3 10.5 12 5l9 5.5v7A1.5 1.5 0 0 1 19.5 19h-15A1.5 1.5 0 0 1 3 17.5z"/><path fill="#94a3b8" d="M12 7.2 5 11v6.5h14V11z"/></svg>
        <strong>Bank Transfer</strong>
      </div>
    </div>
  </footer>

  <!-- Floating WhatsApp -->
  <div class="wa-float">
    <a class="wa-btn" href="https://wa.me/254701017246?text=Hello%20Imarika!" aria-label="Chat on WhatsApp" style="color:#fff">
      <svg viewBox="0 0 24 24" width="26" height="26" fill="currentColor"><path d="M20.52 3.48A11.94..."/></svg>
    </a>
  </div>

  <!-- AUTH: Signup (no OTP) -->
  <div class="modal" id="signupModal"><div class="sheet">
    <h3>Create Account</h3>
    <form class="row" id="signupForm">
      <input id="sFull" placeholder="Full Name (First Middle Last)" required>
      <input id="sId" inputmode="numeric" placeholder="ID Number *" required>
      <input id="sPhone" inputmode="tel" placeholder="Phone * (10 digits e.g. 07xxxxxxxx or 01xxxxxxxx)" required>
      <input id="sPass" type="password" placeholder="Password *" required>
      <input id="sPass2" type="password" placeholder="Confirm Password *" required>
      <button class="btn" type="submit">Create Account</button>
      <button class="btn btn-outline" id="closeSignup" type="button">Cancel</button>
      <div class="muted" id="sHint"></div>
    </form>
  </div></div>

  <!-- AUTH: Login -->
  <div class="modal" id="loginModal"><div class="sheet">
    <h3>Login</h3>
    <form class="row" id="loginForm">
      <input id="lPhone" inputmode="tel" placeholder="Phone (07/01‚Ä¶ 10 digits)" required>
      <input id="lPass" type="password" placeholder="Password" required>
      <button class="btn" type="submit">Login</button>
      <button class="btn btn-outline" id="closeLogin" type="button">Cancel</button>
      <div class="muted" id="lHint"></div>
    </form>
  </div></div>

  <script>
    // year
    const y = document.getElementById('y'); if (y) y.textContent = new Date().getFullYear();
    // utils
    const fmt = n => Number(n).toLocaleString('en-KE');
    const phoneOk = p => /^0(7|1)\d{8}$/.test(String(p||'').trim());
    const acctNum = () => 'IMK-' + Math.random().toString(36).slice(2,6).toUpperCase() + '-' + Math.floor(Math.random()*9000+1000);
    const saveUser = u => localStorage.setItem('imarika_user', JSON.stringify(u));
    const getUser = () => { try { return JSON.parse(localStorage.getItem('imarika_user')||'null'); } catch { return null; } };
    // modals
    const signupModal = document.getElementById('signupModal');
    const loginModal  = document.getElementById('loginModal');
    const openSignup = ()=> signupModal.classList.add('active');
    const closeSignup = ()=> signupModal.classList.remove('active');
    const openLogin = ()=> loginModal.classList.add('active');
    const closeLogin = ()=> loginModal.classList.remove('active');
    ['signupBtn','ctaSignup'].forEach(id=>{const el=document.getElementById(id);if(el)el.addEventListener('click',openSignup);});
    ['loginBtn','ctaLogin'].forEach(id=>{const el=document.getElementById(id);if(el)el.addEventListener('click',openLogin);});
    document.getElementById('closeSignup').addEventListener('click', closeSignup);
    document.getElementById('closeLogin').addEventListener('click', closeLogin);
    signupModal.addEventListener('click', (e)=>{ if(e.target===signupModal) closeSignup(); });
    loginModal.addEventListener('click',  (e)=>{ if(e.target===loginModal)  closeLogin(); });

    // Signup (NO OTP)
    const sForm = document.getElementById('signupForm');
    const sHint = document.getElementById('sHint');
    sForm.addEventListener('submit', (e)=>{
      e.preventDefault();
      const full = document.getElementById('sFull').value.trim();
      const idn  = document.getElementById('sId').value.trim();
      const phone= document.getElementById('sPhone').value.trim();
      const pass = document.getElementById('sPass').value;
      const pass2= document.getElementById('sPass2').value;
      if(!full || !idn){ sHint.textContent='Name and ID are required.'; return; }
      if(!phoneOk(phone)){ sHint.textContent='Phone must start with 07/01 and be 10 digits.'; return; }
      if(pass.length<6){ sHint.textContent='Password must be at least 6 characters.'; return; }
      if(pass!==pass2){ sHint.textContent='Passwords do not match.'; return; }
      const user = { full,idn,phone,passHash:btoa(pass),account:acctNum(),wallet:0,invested:0,createdAt:Date.now() };
      saveUser(user);
      sHint.textContent='Account created.'; closeSignup(); showDashboard(user); window.scrollTo({top:0,behavior:'smooth'});
    });

    // Login
    const lForm = document.getElementById('loginForm');
    const lHint = document.getElementById('lHint');
    lForm.addEventListener('submit',(e)=>{
      e.preventDefault();
      const phone=document.getElementById('lPhone').value.trim();
      const pass=document.getElementById('lPass').value;
      const u=getUser();
      if(!u || u.phone!==phone || u.passHash!==btoa(pass)){ lHint.textContent='Invalid phone or password.'; return; }
      lHint.textContent='Success'; closeLogin(); showDashboard(u); window.scrollTo({top:0,behavior:'smooth'});
    });

    // Dashboard
    const dash = document.getElementById('dashboard');
    const acctTag = document.getElementById('acctTag');
    const walletBal = document.getElementById('walletBal');
    const invBal = document.getElementById('invBal');
    const walletUpdated = document.getElementById('walletUpdated');
    function showDashboard(u){
      acctTag.textContent = 'Acct: ' + u.account;
      walletBal.textContent = 'KES ' + fmt(u.wallet);
      invBal.textContent = 'KES ' + fmt(u.invested);
      walletUpdated.textContent = 'Updated ' + new Date().toLocaleString();
      dash.style.display='block';
    }
    const existing = getUser(); if(existing) showDashboard(existing);

    // Withdraw inline toggle + validation
    const withdrawOpen = document.getElementById('withdrawOpen');
    const withdrawCard = document.getElementById('withdrawCard');
    withdrawOpen.addEventListener('click', ()=> withdrawCard.style.display = withdrawCard.style.display==='none' ? 'block':'none');
    document.getElementById('withdrawBtn').addEventListener('click', ()=>{
      const phone=document.getElementById('wPhone').value.trim();
      const amt=Number(document.getElementById('wAmt').value||0);
      const hint=document.getElementById('wHint');
      if(!phoneOk(phone)){ hint.textContent='Enter valid M-Pesa number.'; return; }
      if(amt<=0){ hint.textContent='Enter amount.'; return; }
      hint.textContent='Request submitted. (Hook backend later)';
    });

    // Calculator
    document.getElementById('miniCalcBtn').addEventListener('click', ()=>{
      const plan=document.getElementById('miniPlan').value;
      const amt=Number(document.getElementById('miniAmt').value||0);
      const pct={std:30,gold:50,plat:70}[plan];
      const out=document.getElementById('miniOut');
      if(!amt || amt<1000){ out.textContent='Enter at least KES 1,000'; return; }
      const earn=Math.round(amt*pct/100); out.innerHTML=`Projected earnings in 24h: <strong style="color:var(--ok)">KES ${fmt(earn)}</strong> ‚Ä¢ Total: <strong>KES ${fmt(amt+earn)}</strong>`;
    });
    document.getElementById('miniStartBtn').addEventListener('click', ()=>{ location.href='/deposit.html'; });

    // Deposit button
    document.getElementById('depositBtn').addEventListener('click', ()=>{ location.href='/deposit.html'; });

    // contact form -> mailto
    function sendEmailViaMailto(){
      const name=(document.getElementById('cName').value||'').trim();
      const contact=(document.getElementById('cContact').value||'').trim();
      const msg=(document.getElementById('cMsg').value||'').trim();
      if(!name||!contact||!msg){ alert('Please fill your Name, Contact and Message.'); return false; }
      const subject=encodeURIComponent(`New inquiry from ${name}`);
      const body=encodeURIComponent(`Name: ${name}\nContact: ${contact}\n\n${msg}`);
      window.location.href=`mailto:sales@imarika.net?subject=${subject}&body=${body}`; return false;
    }
    window.sendEmailViaMailto=sendEmailViaMailto;
  </script>
</body>
</html>
